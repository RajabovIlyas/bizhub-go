(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{5622:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel",function(){return c(88005)}])},71767:function(a,b,c){"use strict";c.d(b,{z:function(){return e}});var d=c(85893);c(67294);var e=function(a){var b=a.show,c=a.children;return!0===b?(0,d.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,d.jsx)("span",{className:"text-gray-500/90 italic bg-gray-50 rounded-[10px] py-1.5 px-3",children:c})}):null}},74634:function(a,b,c){"use strict";c.d(b,{II:function(){return m},JD:function(){return t},Kx:function(){return o},Or:function(){return r},kl:function(){return p},ky:function(){return n},pd:function(){return s},sp:function(){return q},yn:function(){return l}});var d=c(26042),e=c(69396),f=c(99534),g=c(85893),h=c(94184),i=c.n(h),j=c(67294),k=c(14212),l=function(a){var b=a.value;return(0,g.jsx)("p",{className:"outline-none text-[17px] bg-transparent text-[16px] font-[500]",children:b})},m=j.forwardRef(function(a,b){var c=a.suffix,h=a.small,l=a.asPasswordField,m=a.prefix,n=a.iserror,o=(0,f.Z)(a,["suffix","small","asPasswordField","prefix","iserror"]),p=(0,j.useState)(!1),q=p[0],r=p[1],s=function(){r(!q)};return(0,g.jsxs)("div",{className:"flex items-center relative",children:[(0,g.jsx)("input",(0,e.Z)((0,d.Z)({ref:b},o,l&& !1===q&&{type:"password"}),{className:i()("border outline-none",n?"border-red-500":"border-primary",o.className,!h&&"px-2.5 py-1.5 rounded-main/2",h&&"px-[6px] py-[2.5px] rounded-main/2")})),m&&(0,g.jsx)("div",{className:i()(n&&"text-red-500","absolute left-2.5"),children:m}),l?(0,g.jsx)("div",{className:"absolute right-2.5",children:(0,g.jsx)("button",{onClick:s,className:"flex items-center justify-center outline-none transition-all",children:(0,g.jsx)(k.Z,{name:q?"eye":"eyeHidden",className:q?"fill-black":"stroke-black fill-transparent",size:20})})}):c&&(0,g.jsx)("div",{className:i()(n&&"text-red-500","absolute right-2.5"),children:c})]})}),n=j.forwardRef(function(a,b){var c=a.suffix,h=(0,f.Z)(a,["suffix"]);return(0,g.jsxs)("div",{className:"flex items-center relative",children:[(0,g.jsx)("input",(0,e.Z)((0,d.Z)({},h),{ref:b,className:"border border-primary outline-none px-2.5 py-1.5 rounded-main "+h.className})),c&&(0,g.jsx)("div",{className:"absolute right-2.5",children:c})]})}),o=j.forwardRef(function(a,b){var c=a.iserror,h=(0,f.Z)(a,["iserror"]);return(0,g.jsx)("textarea",(0,e.Z)((0,d.Z)({ref:b},h),{className:i()("border outline-none px-2.5 py-1.5 rounded-main/2 ",h.className,c?"border-red-500":"border-primary")}))}),p=function(a){var b=a.label,c=a.children,h=(0,f.Z)(a,["label","children"]);return(0,g.jsxs)("div",{className:"flex flex-col space-y-[20px]",children:[(0,g.jsx)("label",(0,e.Z)((0,d.Z)({},h),{className:"text-[17px]",children:b})),c]})},q=function(a){var b=a.label,c=a.children,h=a.rootClassName,i=a.error,k=(0,f.Z)(a,["label","children","rootClassName","error"]);return(0,g.jsxs)("div",{className:"flex flex-col space-y-[10px] "+h,children:[(0,g.jsx)("label",(0,e.Z)((0,d.Z)({},k),{className:"text-[17px]",children:b})),j.Children.map(c,function(a){return(0,e.Z)((0,d.Z)({},a),{props:(0,e.Z)((0,d.Z)({},a.props),{iserror:i})})})]})},r=function(a){var b=a.label,c=a.children,h=a.rootClassName,i=a.suffix,j=(0,f.Z)(a,["label","children","rootClassName","suffix"]);return(0,g.jsxs)("div",{className:"flex flex-col space-y-[10px] border-b border-[#E5E5E5] pb-[15px] "+h,children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("label",(0,e.Z)((0,d.Z)({},j),{className:"text-[17px] text-[#6E5AD1]",children:b})),i&&i]}),c]})},s=function(a){var b=a.show,c=a.error;return b?(0,g.jsx)("div",{className:"bg-[rgba(255,0,0,0.15)] px-[8px] py-[5px] rounded-[5px]",children:(0,g.jsx)("span",{className:"text-[14px] font-[500] text-[#FF0000]",children:c})}):null},t=j.forwardRef(function(a,b){var c=a.value,h=a.onClick,i=a.render,j=a.notSelectedValue,k=(0,f.Z)(a,["value","onClick","render","notSelectedValue"]);return(0,g.jsxs)("button",(0,e.Z)((0,d.Z)({},k),{type:"button",onClick:h,ref:b,className:"rounded-main/2 font-[500] text-[15.5px] bg-[#F7F8FA] w-full flex items-center py-[5px] px-[10px] border border-[#E5E5E5]",children:[!c&&(null!=j?j:"Not Selected"),!i&&c&&c,i&&c&&i(c)]}))})},78119:function(a,b,c){"use strict";c.d(b,{n:function(){return f}});var d=c(85893);c(67294);var e=c(2072),f=function(a){var b=a.onClick,c=a.show,f=a.loading;return c?(0,d.jsx)("div",{className:"flex items-center justify-center py-10",children:(0,d.jsx)(e.z,{loading:f,size:"small",onClick:b,children:"Load More"})}):null}},92456:function(a,b,c){"use strict";var d=c(26042),e=c(69396),f=c(99534),g=c(85893),h=c(94184),i=c.n(h);c(67294);var j=function(a){var b=a.children,c=a.className,h=(0,f.Z)(a,["children","className"]);return(0,g.jsx)("div",(0,e.Z)((0,d.Z)({className:i()("w-full flex flex-col h-full",c)},h),{children:b}))};b.Z=j},7641:function(a,b,c){"use strict";c.d(b,{V2:function(){return l},ZX:function(){return n},dR:function(){return m}});var d=c(26042),e=c(69396),f=c(99534),g=c(85893),h=c(94184),i=c.n(h),j=c(67294),k=c(14212),l=function(a){var b=a.children;return(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[1===j.Children.count(b)&&(0,g.jsx)("div",{}),j.Children.map(b,function(a){return a})]})},m=function(a){var b=a.children,c=a.paddingYDisabled,d=a.style;return(0,g.jsx)("div",{style:d,className:i()("flex items-center space-x-7 px-7",!c&&"py-7"),children:b})},n=function(a){var b=a.children,c=a.icon,h=a.color,j=void 0===h?"primary":h,l=(0,f.Z)(a,["children","icon","color"]);return(0,g.jsxs)("button",(0,e.Z)((0,d.Z)({},l),{className:i()("flex items-center space-x-2 py-2 px-3.5 rounded-main border","primary"===j&&"border-primary bg-primary","outline"===j&&"bg-white"),children:[c&&(0,g.jsx)(k.Z,{name:c,color:"primary"===j?"white":"black",size:15}),(0,g.jsx)("span",{className:i()("text-[15px] font-medium","primary"===j&&"text-white","outline"===j&&"text-black"),children:b})]}))}},12906:function(a,b,c){"use strict";var d=c(85893),e=c(67294),f=function(a){var b=a.id,c=a.options,f=a.onChange,g=a.value,h=void 0===g?0:g,i=a.disabled,j=(0,e.useState)(null),k=j[0],l=j[1],m=function(a){return function(){if(!i){l(a);var c=document.getElementById("ojo-animated-select-group-".concat(b,"-container")),d=document.getElementById("ojo-animated-select-group-".concat(b,"-selected")),e=document.getElementById("ojo-animated-select-group-".concat(b,"-item-").concat(a));if(e&&d&&c){var g,h=g=e.getBoundingClientRect().left-c.getBoundingClientRect().left;d.style.width=(null==e?void 0:e.offsetWidth)+"px",d.style.height=((null==e?void 0:e.offsetHeight)>(null==c?void 0:c.offsetHeight)-10?null==e?void 0:e.offsetHeight:(null==c?void 0:c.offsetHeight)-10)+"px",d.style.transform="translateX(".concat(h,"px)")}f&&f(a)}}};return(0,e.useEffect)(function(){setTimeout(function(){null===k&&m(h)()},1)},[]),(0,e.useEffect)(function(){if(void 0!==h){var a;(a=h)<c.length&&a>=0&&m(h)()}},[h]),(0,d.jsxs)("div",{id:"ojo-animated-select-group-".concat(b,"-container"),className:"rounded-main relative bg-[#E5E5E5] flex items-center p-[5px]",children:[(0,d.jsx)("div",{className:"bg-white transition-all z-[0] absolute left-0 duration-[200ms] rounded-[7px]",style:{boxShadow:"0px 0px 4px 0px rgba(0, 0, 0, 0.15)"},id:"ojo-animated-select-group-".concat(b,"-selected")}),c.map(function(a,c){return(0,d.jsx)("button",{disabled:i,id:"ojo-animated-select-group-".concat(b,"-item-").concat(c),onClick:k===c?void 0:m(c),className:"px-[11px] transition-all duration-[200ms] outline-none focus:text-primary ".concat(k===c?"text-black":"text-gray-500"," z-[1] py-[5px] rounded-[7px]"),children:a},"ro-index-".concat(b,"-").concat(c))})]})};b.Z=f},38560:function(a,b,c){"use strict";c.d(b,{E:function(){return j},d:function(){return i}});var d=c(26042),e=c(69396),f=c(85893),g=c(70211),h=c(14212),i=function(a){return(0,f.jsx)(g.ZP,(0,d.Z)({menuPlacement:"bottom",components:{Option:function(a){return(0,f.jsx)("div",(0,e.Z)((0,d.Z)({style:(0,d.Z)({},a.isSelected?{color:"black"}:{color:"#AAAAAA"},a.isFocused?{backgroundColor:"rgb(170 170 170 / 0.05)"}:{backgroundColor:"transparent"}),className:"cursor-pointer whitespace-nowrap flex hover:bg-[#AAAAAA]/5 items-center py-[7.5px] px-[15px]"},a.innerProps),{children:(0,f.jsx)("span",{className:"whitespace-wrap",children:a.label})}))},IndicatorsContainer:function(){return(0,f.jsx)("div",{className:"pr-[15px]",children:(0,f.jsx)(h.Z,{name:"chevronDown",className:"stroke-black fill-transparent",size:15})})}},noOptionsMessage:function(a){var b=a.inputValue;return(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{className:"text-red-500",children:b})," not found"]})},styles:{container:function(a,b){return(0,e.Z)((0,d.Z)({},a),{padding:0,margin:0,borderColor:"blue",":focus":{boxShadow:"none"}})},control:function(a,b){return(0,e.Z)((0,d.Z)({},a),{borderRadius:"10px",padding:"0.5rem 0px",boxShadow:"none",":focus":{boxShadow:"none",borderColor:"#E5E5E5"},borderColor:"#E5E5E5",":hover":{borderColor:"#E5E5E5",boxShadow:"none"},":active":{boxShadow:"none"}})},input:function(a,b){return(0,e.Z)((0,d.Z)({},a),{padding:0,margin:0})},indicatorSeparator:function(a,b){return(0,e.Z)((0,d.Z)({},a),{display:"none",width:0,height:0,padding:0,margin:0})},valueContainer:function(a,b){return(0,e.Z)((0,d.Z)({},a),{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"15px",fontSize:"15px"})},menu:function(a,b){return(0,e.Z)((0,d.Z)({},a),{minWidth:"100px",width:"auto",borderRadius:"10px",right:0,boxShadow:"0px 0px 6px 0px rgba(0,0,0,0.15)"})}}},a))},j=function(a){return(0,f.jsx)(g.ZP,(0,d.Z)({components:{Option:function(a){return(0,f.jsx)("div",(0,e.Z)((0,d.Z)({style:(0,d.Z)({},a.isSelected?{color:"black"}:{color:"#AAAAAA"},a.isFocused?{backgroundColor:"rgb(170 170 170 / 0.05)"}:{backgroundColor:"transparent"}),className:"cursor-pointer flex hover:bg-[#AAAAAA]/5 items-center py-[7.5px] px-[15px]"},a.innerProps),{children:(0,f.jsx)("span",{children:a.label})}))},IndicatorsContainer:function(){return(0,f.jsx)(f.Fragment,{})}},noOptionsMessage:function(a){var b=a.inputValue;return(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{className:"text-red-500",children:b})," not found"]})},styles:{container:function(a,b){return(0,e.Z)((0,d.Z)({},a),{padding:0,margin:0,borderColor:"blue",":focus":{boxShadow:"none"}})},control:function(a,b){return(0,e.Z)((0,d.Z)({},a),{borderRadius:"10px",boxShadow:"none",":focus":{boxShadow:"none",borderColor:"#E5E5E5"},":hover":{borderColor:"#E5E5E5",boxShadow:"none"},":active":{boxShadow:"none"},padding:"8px 15px",backgroundColor:"#F7F8FA",borderColor:"#E5E5E5",cursor:"pointer"})},input:function(a,b){return(0,e.Z)((0,d.Z)({},a),{padding:0,margin:0})},indicatorSeparator:function(a,b){return(0,e.Z)((0,d.Z)({},a),{display:"none",width:0,height:0,padding:0,margin:0})},valueContainer:function(a,b){return(0,e.Z)((0,d.Z)({},a),{padding:0})},menu:function(a,b){return(0,e.Z)((0,d.Z)({},a),{minWidth:"190px",borderRadius:"10px",right:0,overflow:"hidden",boxShadow:"0px 0px 6px 0px rgba(0,0,0,0.15)"})}}},a))}},88005:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return aa}});var d=c(47568),e=c(14924),f=c(26042),g=c(69396),h=c(10797),i=c(34051),j=c.n(i),k=c(85893),l=c(9669),m=c.n(l),n=c(67294),o=c(82668),p=c(78119),q=c(92456),r=c(7641),s=c(38560),t=c(32130),u=c(67971),v=[{name:"admin",display_name:"Admin"},{name:"employees_manager",display_name:"Employee's Manager"},{name:"admin_checker",display_name:"Admin Checker"},{name:"cashier",display_name:"Cashier"},{name:"owner",display_name:"Owner"},],w=[{name:"on_holiday",display_name:"On Holiday"},{name:"in_hospital",display_name:"In The Hospital"},{name:"other_reasons",display_name:"Other Reasons"},],x=c(94184),y=c.n(x),z=c(14212),A=c(75758),B=function(a){switch(a){case"other_reasons":return"#4EC63F";case"in_hospital":return"#FF0000";case"on_holiday":return"#FEBE13";default:return"#2B94EB"}},C=function(a){var b,c=a.employee,d=(0,n.useState)(c.reason),e=d[0],f=d[1],g=function(a){f(a)};return(0,n.useEffect)(function(){return A.eventManager.on("employees:".concat(c._id,":reason:set"),g),function(){A.eventManager.off("employees:".concat(c._id,":reason:set"),g)}},[]),(0,k.jsxs)("div",{className:y()("flex cursor-pointer shadow-main rounded-main overflow-hidden items-center flex-row sm:flex-col items-center relative bg-white",null!==c.exited_on&&"opacity-[0.4]"),children:[null===c.exited_on&&(0,k.jsx)("div",{className:"absolute top-0 right-0",children:(0,k.jsxs)("div",{className:"relative group",children:[(0,k.jsx)("button",{className:"outline-none py-2 px-3",children:(0,k.jsx)(z.Z,{name:"horizontalMoreMenu",className:"fill-[#AAAAAA]",size:18,color:""})}),(0,k.jsxs)("div",{className:"absolute z-[3] top-3 group-hover:visible group-hover:translate-x-0 group-hover:translate-y-0 group-hover:scale-[1] invisible opacity-[0] group-hover:opacity-[1] right-3 py-1 scale-[0.5] translate-x-[40%] delay-[200ms] translate-y-[-50%] rounded-bl-main transition-all overflow-hidden rounded-br-main rounded-tl-main shadow-main bg-white",children:[null===e&&(0,k.jsx)("button",{onClick:function(){A.eventManager.emit("employees:givePermission:show",c._id)},className:"py-1.5 w-full whitespace-nowrap flex px-3 hover:bg-gray-50 flex items-center text-[13px]",children:(0,k.jsx)("h1",{children:"Give Permission"})}),(0,k.jsx)("button",{onClick:function(){A.eventManager.emit("employees:note:add:show",c._id)},className:"py-1.5 w-full whitespace-nowrap flex px-3 hover:bg-gray-50 flex items-center text-[13px]",children:(0,k.jsx)("h1",{children:"Add Note"})})]})]})}),(0,k.jsxs)("div",{className:"h-full w-full sm:px-2 px-4 flex flex-row sm:flex-col py-4 items-center",onClick:function(){A.eventManager.emit("employees:info:show",c._id)},children:[(0,k.jsx)("div",{className:"w-[120px] h-[120px] overflow-hidden mt-0 sm:mt-2 mb-0 sm:mb-3.5 rounded-full",children:(0,k.jsx)("img",{alt:c.full_name,className:"w-full h-full",src:"/cdn/".concat(c.avatar)})}),(0,k.jsxs)("div",{className:"sm:ml-0 flex flex-col sm:items-center items-start ml-5",children:[(0,k.jsx)("h1",{className:"mb-[5px] p-0 m-0 text-lg",style:{fontWeight:"bold"},children:c.full_name}),(0,k.jsx)("h4",{className:"text-[#9797BE] mb-[6px] text-[14px]",style:{fontWeight:"300"},children:c.job.display_name}),null===c.exited_on&&(0,k.jsx)("h2",{style:{color:null!==e?B(e.name):"#2B94EB"},className:"text-[14px] font-semibold",children:null!==(b=null==e?void 0:e.display_name)&& void 0!==b?b:"Looks Good ;)"})]})]})]})},D=c(2072),E=c(74634),F=c(65791),G=function(){var a=(0,n.useState)(!1),b=a[0],c=a[1],d=function(){c(!0)},e=function(){c(!1)};return(0,n.useEffect)(function(){return A.eventManager.on("employees:add:show",d),A.eventManager.on("employees:add:hide",e),function(){A.eventManager.off("employees:add:show",d),A.eventManager.off("employees:add:hide",e)}},[]),(0,k.jsx)(F.Z,{position:"bottomRight",title:"Add Employee",visible:b,tools:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(D.z,{size:"small",children:"Add"})}),onClose:function(){c(!1)},useClassicContainer:!0,children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[15px]",children:[(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Name:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Surname:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Middle Name:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Date of birth:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Address:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Passport Code:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Passport Copy:",children:(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-[20px]",children:[(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"https://cdn.pixabay.com/photo/2017/11/02/08/26/masterwort-2910368__480.jpg"})}),(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"https://cdn.pixabay.com/photo/2022/05/22/18/25/spain-7214284__480.jpg"})}),(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"https://cdn.pixabay.com/photo/2022/05/22/18/25/spain-7214284__480.jpg"})}),(0,k.jsxs)("div",{className:"overflow-hidden bg-[#F7F8FA] flex items-center justify-center space-y-[20px] h-[200px] flex-col border rounded-main",children:[(0,k.jsx)(z.Z,{name:"plus",size:40,color:"#AAAAAA"}),(0,k.jsx)("h3",{className:"text-[14px] text-[#AAAAAA]",children:"Add Photo"})]})]})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Login:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Password:",children:(0,k.jsx)(E.II,{className:"w-full",suffix:(0,k.jsx)("button",{className:"flex items-center justify-center outline-none hover:fill-primary transition-all",children:(0,k.jsx)(z.Z,{name:"eye",size:20})})})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Avatar:",children:(0,k.jsxs)("div",{className:"rounded-main flex justify-center items-end relative overflow-hidden w-[150px] h-[150px]",children:[(0,k.jsx)("img",{alt:"Avatar",className:"w-full h-full",src:"https://cdn.pixabay.com/photo/2022/07/21/18/53/couple-7336780__480.jpg"}),(0,k.jsx)("button",{className:"absolute bottom-[5px] outline-none backdrop-blur-[5px] rounded-main bg-[rgba(0, 0, 0, 0.2)] text-white text-[12px] py-[5px] px-[10px]",children:"Change"})]})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Job:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Salary:",children:(0,k.jsx)(E.II,{className:"w-full",suffix:(0,k.jsx)("span",{children:"TMT"})})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Work time:",children:(0,k.jsxs)("div",{className:"flex items-center space-x-[20px]",children:[(0,k.jsx)("button",{className:"border border-[rgba(229,229,229,1)] rounded-main/2 bg-[rgba(247,248,250,1)] py-[6px] w-full text-[16px] font-[500] outline-none",children:"09:00"}),(0,k.jsx)("button",{className:"border border-[rgba(229,229,229,1)] rounded-main/2 bg-[rgba(247,248,250,1)] py-[6px] w-full text-[16px] font-[500] outline-none",children:"18:00"})]})})]})})},H=G,I=c(12906),J=function(){var a,b=(0,n.useState)(!1),c=b[0],f=b[1],g=(0,n.useState)(null),h=g[0],i=g[1],l=(0,n.useState)(!1),o=l[0],p=l[1],q=(0,n.useState)(""),r=q[0],s=q[1],u=(0,n.useState)(!0),v=u[0],w=u[1],x=new Date,y=(a=(0,d.Z)(j().mark(function a(){var b,c;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,0!==(b=r.trim()).length){a.next=4;break}return a.abrupt("return");case 4:return p(!0),a.next=7,m().post("/api/v1/employees/".concat(h,"/notes"),{is_like:v,text:b},{headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 7:if(c=a.sent,console.log("[addNote] - response - ",c.data),!0!==c.data.isSuccess){a.next=13;break}return B(),p(!1),a.abrupt("return");case 13:p(!1),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(0),console.log("[addNote] - error -",a.t0),p(!1);case 20:case"end":return a.stop()}},a,null,[[0,16]])})),function(){return a.apply(this,arguments)}),B=function(){f(!1),i(null),s(""),w(!1),p(!1)},C=function(a){f(!0),i(a),s(""),w(!0)},G=function(a){s(a.target.value)},H=function(a){w(0===a)};return(0,n.useEffect)(function(){return A.eventManager.on("employees:note:add:show",C),function(){A.eventManager.off("employees:note:add:show",C)}},[]),(0,k.jsxs)(F.Z,{title:"Add Note",visible:c,onClose:function(){f(!1)},tools:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(D.z,{size:"small",loading:o,disabled:o,onClick:y,children:"Add"})}),className:"flex flex-col flex-grow space-y-4",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)(I.Z,{id:"employee-add-note",disabled:o,value:v?0:1,onChange:H,options:[(0,k.jsx)("div",{className:"py-1",children:(0,k.jsx)(z.Z,{name:"like",color:"#4EC63F"})}),(0,k.jsx)("div",{className:"py-1",children:(0,k.jsx)(z.Z,{name:"dislike",color:"#FF0000"})}),]}),(0,k.jsxs)("h5",{className:"text-[#777777] text-[16px]",children:[x.toLocaleDateString(),"y."]})]}),(0,k.jsx)(E.Kx,{className:"flex-grow",disabled:o,value:r,onChange:G})]})},K=J,L=function(){var a=(0,n.useState)(!1),b=a[0],c=a[1],d=function(){c(!0)},e=function(){c(!1)};return(0,n.useEffect)(function(){return A.eventManager.on("employees:edit:show",d),A.eventManager.on("employees:edit:hide",e),function(){A.eventManager.off("employees:edit:show",d),A.eventManager.off("employees:edit:hide",e)}},[]),(0,k.jsx)(F.Z,{position:"bottomRight",title:"Employee Info Edit",visible:b,useClassicContainer:!0,tools:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(D.z,{size:"small",children:"Save"})}),onClose:function(){c(!1)},children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[15px]",children:[(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Name:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Surname:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Middle Name:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Date of birth:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Address:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Passport Code:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Passport Copy:",children:(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-[20px]",children:[(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"https://cdn.pixabay.com/photo/2017/11/02/08/26/masterwort-2910368__480.jpg"})}),(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"https://cdn.pixabay.com/photo/2022/05/22/18/25/spain-7214284__480.jpg"})}),(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"https://cdn.pixabay.com/photo/2022/05/22/18/25/spain-7214284__480.jpg"})}),(0,k.jsxs)("div",{className:"overflow-hidden flex items-center justify-center space-y-[20px] h-[200px] flex-col border rounded-main",children:[(0,k.jsx)(z.Z,{name:"plus",size:40,color:"#AAAAAA"}),(0,k.jsx)("h3",{className:"text-[14px] text-[#AAAAAA]",children:"Add Photo"})]})]})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Login:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Password:",children:(0,k.jsx)(E.II,{className:"w-full",suffix:(0,k.jsx)("button",{className:"flex items-center justify-center outline-none hover:fill-primary transition-all",children:(0,k.jsx)(z.Z,{name:"eye",size:20})})})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Avatar:",children:(0,k.jsxs)("div",{className:"rounded-main flex justify-center items-end relative overflow-hidden w-[150px] h-[150px]",children:[(0,k.jsx)("img",{alt:"Avatar",className:"w-full h-full",src:"https://cdn.pixabay.com/photo/2022/07/21/18/53/couple-7336780__480.jpg"}),(0,k.jsx)("button",{className:"absolute bottom-[5px] outline-none backdrop-blur-[5px] rounded-main bg-[rgba(0, 0, 0, 0.2)] text-white text-[12px] py-[5px] px-[10px]",children:"Change"})]})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Job:",children:(0,k.jsx)(E.II,{className:"w-full"})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Salary:",children:(0,k.jsx)(E.II,{className:"w-full",suffix:(0,k.jsx)("span",{children:"TMT"})})}),(0,k.jsx)(E.sp,{rootClassName:"w-full",label:"Work time:",children:(0,k.jsxs)("div",{className:"flex items-center space-x-[20px]",children:[(0,k.jsx)("button",{className:"border border-[rgba(229,229,229,1)] rounded-main/2 bg-[rgba(247,248,250,1) py-[6px] w-full text-[16px] font-[500] outline-none",children:"09:00"}),(0,k.jsx)("button",{className:"border border-[rgba(229,229,229,1)] rounded-main/2 bg-[rgba(247,248,250,1) py-[6px] w-full text-[16px] font-[500] outline-none",children:"18:00"})]})})]})})},M=L,N=c(71767),O=c(94989),P=function(a){var b=a.work,c=(0,O.Y)(new Date(b.date));return(0,k.jsxs)("div",{className:"rounded-main/2 bg-[#F7F8FA] flex flex-col p-[10px] space-y-[10px]",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("h6",{className:"text-[12px] text-[#777777] font-[400]",children:[c.toDate(),"y."]}),(0,k.jsxs)("h4",{className:"text-[#777777] font-[400] text-[12px]",children:[b.work_time.start," - ",b.work_time.end]})]}),(0,k.jsx)("p",{className:"font-[500] text-[16px]",children:b.text})]},"employee-everyday-work-index-".concat(b))},Q=function(a){var b=a.note,c=(0,O.Y)(new Date(b.created_at));return(0,k.jsxs)("div",{className:"rounded-main/2 bg-[#F7F8FA] flex flex-col p-[10px] space-y-[10px]",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-[10px]",children:[b.is_like?(0,k.jsx)(z.Z,{name:"like",color:"#4EC63F"}):(0,k.jsx)(z.Z,{name:"dislike",color:"#FF0000"}),(0,k.jsx)("h6",{className:"text-[12px] text-[#777777] font-[400]",children:b.created_by.full_name})]}),(0,k.jsxs)("h4",{className:"text-[#777777] font-[400] text-[12px]",children:[c.getHoursAsString(),":",c.getMinutesAsString()," /"," ",c.toDate(),"y."]})]}),(0,k.jsx)("p",{className:"font-[500] text-[16px]",children:b.text})]})},R=function(){var a,b,c=(0,n.useState)(!1),f=c[0],g=c[1],h=(0,n.useState)(!1),i=h[0],l=h[1],o=(0,n.useState)(null),p=o[0],q=o[1],r=(a=(0,d.Z)(j().mark(function a(b){var c;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l(!0),a.prev=1,a.next=4,m().get("/api/v1/employees/".concat(b),{headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 4:c=a.sent,console.log("[loadEmployeeInfo] - response -",c),!0===c.data.isSuccess&&q(c.data.result),l(!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log("[loadEmployeeInfo] - error -",a.t0),l(!1);case 14:case"end":return a.stop()}},a,null,[[1,10]])})),function(b){return a.apply(this,arguments)}),s=(b=(0,d.Z)(j().mark(function a(b){return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g(!0),a.next=3,r(b);case 3:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),u=function(){g(!1),q(null),l(!1)};return(0,n.useEffect)(function(){return A.eventManager.on("employees:info:show",s),A.eventManager.on("employees:info:hide",u),function(){A.eventManager.off("employees:info:show",s),A.eventManager.off("employees:info:hide",u)}},[]),(0,k.jsx)(F.Z,{position:"bottomRight",title:"Employee Info",visible:f,contentLoading:i||null===p,tools:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(D.z,{size:"small",color:"danger",onClick:u,children:"Dismiss"}),(0,k.jsx)(D.z,{size:"small",onClick:function(){u(),A.eventManager.emit("employees:edit:show")},children:"Edit"})]}),onClose:u,useClassicContainer:!0,children:p&&(0,k.jsxs)("div",{className:"flex flex-col space-y-[15px]",children:[(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Name:",children:(0,k.jsx)(E.yn,{value:p.name})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Surname:",children:(0,k.jsx)(E.yn,{value:p.surname})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Middle Name:",children:(0,k.jsx)(E.yn,{value:p.middle_name})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Date of birth:",children:(0,k.jsx)(E.yn,{value:"".concat((0,O.Y)(new Date(p.birth_date)).toDate(),"y.")})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Address:",children:(0,k.jsx)(E.yn,{value:p.address})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Passport Code:",children:(0,k.jsx)(E.yn,{value:p.passport_code})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Passport Copy:",children:(0,k.jsx)("div",{className:"grid grid-cols-2 gap-[20px]",children:p.passport_copies.map(function(a,b){return(0,k.jsx)("div",{className:"overflow-hidden border h-[200px] rounded-main",children:(0,k.jsx)("img",{alt:"Passport Copy",className:"w-full",src:"/cdn/".concat(a)})},"employee-passport-copy-index-".concat(b))})})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Login:",children:(0,k.jsx)(E.yn,{value:p.email})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Avatar:",children:(0,k.jsxs)("div",{className:"rounded-main flex justify-center items-end relative overflow-hidden w-[150px] h-[150px]",children:[(0,k.jsx)("img",{alt:"Avatar",className:"w-full h-full",src:"/cdn/".concat(p.avatar)}),(0,k.jsx)("button",{className:"absolute bottom-[5px] outline-none backdrop-blur-[5px] rounded-main bg-[rgba(0, 0, 0, 0.2)] text-white text-[12px] py-[5px] px-[10px]",children:"Change"})]})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Job:",children:(0,k.jsx)(E.yn,{value:p.job.display_name})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Salary:",children:(0,k.jsx)("div",{className:"w-full flex flex-col space-y-[15px]",children:p.salaries.map(function(a,b){var c,d=(0,O.Y)(new Date(a.from)),e=(0,O.Y)(new Date(null!==(c=a.to)&& void 0!==c?c:""));return(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("h3",{className:"text-[17px] font-[500] text-black",children:[a.amount," TMT"]}),(0,k.jsx)("h6",{className:"text-[13px] font-[400] text-[#777777]",children:null===a.to?"".concat(d.toDate(),"y."):"".concat(d.toDate(),"y. - ").concat(e.toDate(),"y.")})]},"employee-salary-index-".concat(b))})})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Work time:",children:(0,k.jsx)(E.yn,{value:"".concat(p.work_time.start," - ").concat(p.work_time.end)})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Started on:",children:(0,k.jsx)("div",{className:"flex flex-col space-y-[10px]",children:p.started_on.map(function(a,b){var c=(0,O.Y)(new Date(a.from));if(null===a.to)return(0,k.jsxs)("span",{className:"font-[500] text-[16px]",children:[c.toDate(),"y."]},"employee-started-on-index-".concat(b));var d=(0,O.Y)(new Date(a.to));return(0,k.jsxs)("span",{className:"font-[500] text-[16px]",children:[c.toDate(),"y. - ",d.toDate(),"y."]},"employee-started-on-index-".concat(b))})})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Out of work:",suffix:(0,k.jsx)("button",{onClick:function(){A.eventManager.emit("employees:outOfWork:show",p._id)},className:"underline font-[400] text-[14px] text-[#4285F4]",children:"All"}),children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[10px]",children:[(0,k.jsx)(N.z,{show:0===p.reasons.length,children:"No reason"}),p.reasons.map(function(a,b){var c=B(a.name),d=(0,O.Y)(new Date(a.from)),e=(0,O.Y)(new Date(a.to)),f=d.isSameDate(e);return(0,k.jsxs)("div",{className:"rounded-main/2 bg-[#F7F8FA] flex flex-col p-[10px] space-y-[10px]",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("h6",{className:"text-[12px] text-[#777777] font-[400]",children:f?"".concat(d.toDate(),"y."):"".concat(d.toDate(),"y. - ").concat(e.toDate(),"y.")}),(0,k.jsx)("h4",{style:{color:c},className:"font-[400] text-[12px]",children:a.display_name})]}),(0,k.jsx)("p",{className:"font-[500] text-[16px]",children:a.description})]},"employee-reason-index-".concat(b))})]})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Notes:",suffix:(0,k.jsx)("button",{onClick:function(){A.eventManager.emit("employees:notes:show",p._id)},className:"underline font-[400] text-[14px] text-[#4285F4]",children:"All"}),children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[10px]",children:[(0,k.jsx)(N.z,{show:0===p.notes.length,children:"No note"}),p.notes.map(function(a,b){return(0,k.jsx)(Q,{note:a},"employee-note-index-".concat(b))})]})}),(0,k.jsx)(E.Or,{rootClassName:"w-full",label:"Everyday Work:",suffix:(0,k.jsx)("button",{onClick:function(){A.eventManager.emit("employees:everydayWork:show",p._id)},className:"underline font-[400] text-[14px] text-[#4285F4]",children:"All"}),children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[10px]",children:[(0,k.jsx)(N.z,{show:0===p.everyday_work.length,children:"No Everyday work"}),p.everyday_work.map(function(a,b){return(0,k.jsx)(P,{work:a},"employee-everyday-work-index-".concat(b))})]})})]})})},S=R,T=function(){var a,b=(0,n.useState)(!1),c=b[0],f=b[1],g=(0,n.useState)(!1),i=g[0],l=g[1],o=(0,n.useState)(!1),q=o[0],r=o[1],s=(0,n.useState)(0),u=s[0],v=s[1],w=(0,n.useState)(null),x=w[0],y=w[1],B=(0,n.useState)([]),C=B[0],D=B[1],E=(a=(0,d.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l(!0),a.prev=1,a.next=4,m().get("/api/v1/employees/".concat(x,"/everyday_works"),{params:{limit:5,page:u},headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 4:!0===(b=a.sent).data.isSuccess&&(r(b.data.result.length<5),v(u+1),D((0,h.Z)(C).concat((0,h.Z)(b.data.result)))),l(!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("[loadEmployeeNotes] - error -",a.t0),l(!1);case 13:case"end":return a.stop()}},a,null,[[1,9]])})),function(){return a.apply(this,arguments)}),G=function(a){y(a),f(!0)},H=function(){f(!1),D([]),v(0),r(!1),y(null),l(!0)};return(0,n.useEffect)(function(){null!==x&&E()},[x]),(0,n.useEffect)(function(){return A.eventManager.on("employees:everydayWork:show",G),A.eventManager.on("employees:everydayWork:hide",H),function(){A.eventManager.off("employees:everydayWork:show",G),A.eventManager.off("employees:everydayWork:hide",H)}},[]),console.log("loading =>",i),(0,k.jsx)(F.Z,{position:"bottomRight",title:"Everyday Works",visible:c,closeIcon:(0,k.jsx)(z.Z,{name:"arrowRight",size:22}),onClose:H,contentLoading:i,useClassicContainer:!0,children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[10px]",children:[(0,k.jsx)(N.z,{show:0===C.length,children:"No Everyday work"}),C.map(function(a,b){return(0,k.jsx)(P,{work:a},"employee-work-index-".concat(b))}),(0,k.jsx)(p.n,{show:!q&&!i&&0!==C.length,onClick:E})]})})},U=c(9198),V=c.n(U),W=(0,n.forwardRef)(function(a,b){var c=a.onClick,d=a.value;return(0,k.jsx)("button",{ref:b,onClick:c,className:"py-[8px] px-[15px] bg-[#F7F8FA] border border-[#E5E5E5] rounded-main",children:(0,k.jsxs)("span",{className:"text-[15px] font-normal whitespace-nowrap",children:[d,"y."]})})}),X=function(a){return(0,k.jsx)(V(),(0,f.Z)({renderCustomHeader:function(a){var b=a.decreaseMonth,c=a.increaseMonth,d=a.nextMonthButtonDisabled,e=a.prevMonthButtonDisabled,f=a.date,g=(0,O.Y)(f);return(0,k.jsxs)("div",{className:"w-full flex px-[15px] items-center justify-between",children:[(0,k.jsx)("button",{disabled:e,onClick:b,className:y()("outline-none transform rotate-[180deg] hover:fill-primary",e&&"opacity-0"),children:(0,k.jsx)(z.Z,{name:"arrowRight"})}),(0,k.jsxs)("div",{className:"flex items-center justify-center space-x-[10px]",children:[(0,k.jsx)("span",{children:g.getMonthAsString()}),(0,k.jsx)("span",{children:g.getYear()})]}),(0,k.jsx)("button",{disabled:d,onClick:c,className:y()("outline-none hover:fill-primary",d&&"opacity-0"),children:(0,k.jsx)(z.Z,{name:"arrowRight"})})]})},customInput:(0,k.jsx)(W,{})},a))},Y=function(){var a,b,c=(0,n.useState)(!1),f=c[0],g=c[1],h=(0,n.useState)(!1),i=h[0],l=h[1],o=(0,n.useState)(null),p=o[0],q=o[1],r=(0,n.useState)({value:w[0].name,label:w[0].display_name}),u=r[0],v=r[1],x=(0,n.useState)(new Date),y=x[0],z=x[1],B=(0,n.useState)("0"),C=B[0],G=B[1],H=(0,n.useState)(""),I=H[0],J=H[1],K=(0,O.Y)(new Date).subDays(0),L=function(a){J(a.target.value)},M=function(a){if(a.target.value.match(/\d+/gi)||0===a.target.value.length){var b=Number(a.target.value);isNaN(b)?G(""):G(b.toString())}},N=(a=(0,d.Z)(j().mark(function a(){var b,c,d,f,g;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=Number(C),c=I.trim(),!isNaN(b)){a.next=6;break}return a.abrupt("return");case 6:if(0!==c.length){a.next=8;break}return a.abrupt("return");case 8:return l(!0),a.prev=9,a.next=12,m().post("/api/v1/employees/".concat(p,"/reasons"),{name:u.value,display_name:u.label,from:y.toISOString(),days:b,description:c},{headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 12:d=a.sent,console.log("[givePermission] - response -",d),!0===d.data.isSuccess?(f=new Date,(g=y.getDate()===f.getDate()&&y.getMonth()===f.getMonth()&&y.getFullYear()===f.getFullYear())&&A.eventManager.emit("employees:".concat(p,":reason:set"),{name:u.value,display_name:u.label}),Q()):l(!1),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(9),console.log("[givePermission] - error -",a.t0),l(!1);case 21:case"end":return a.stop()}},a,null,[[9,17]])})),function(){return a.apply(this,arguments)}),P=function(a){g(!0),q(a)},Q=function(){g(!1),q(null),G("0"),z(new Date),J(""),l(!1)};return(0,n.useEffect)(function(){return A.eventManager.on("employees:givePermission:show",P),function(){A.eventManager.off("employees:givePermission:show",P)}},[]),(0,k.jsxs)(F.Z,{title:"Give Permission",visible:f,onClose:Q,tools:(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(D.z,{loading:i,disabled:i,onClick:N,size:"small",children:["Give ",p]})}),className:"flex flex-col flex-grow space-y-4",children:[(0,k.jsx)("div",{className:"flex items-center justify-between",children:(0,k.jsxs)("div",{className:"flex items-end space-x-[20px]",children:[(0,k.jsx)(s.E,{onChange:(b=(0,d.Z)(j().mark(function a(b,c){return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.value!==u.value){a.next=2;break}return a.abrupt("return");case 2:v(b);case 3:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}),value:u,options:w.map(function(a){return{value:a.name,label:a.display_name}}),isSearchable:!1}),(0,k.jsx)("div",{children:(0,k.jsx)(X,{minDate:K,selected:y,onChange:function(a){null!==a&&z(a)}})}),(0,k.jsx)(E.II,{className:"w-[40px] text-center flex-grow",value:C,onChange:M,maxLength:2}),(0,k.jsx)("span",{className:"text-[16px] text-[#777777]",children:"Days"})]})}),(0,k.jsx)(E.Kx,{className:"flex-grow",value:I,onChange:L})]})},Z=Y,$=function(){var a,b=(0,n.useState)(!1),c=b[0],f=b[1],g=(0,n.useState)(!1),i=g[0],l=g[1],o=(0,n.useState)(!1),q=o[0],r=o[1],s=(0,n.useState)(0),u=s[0],v=s[1],w=(0,n.useState)(null),x=w[0],y=w[1],B=(0,n.useState)([]),C=B[0],D=B[1],E=(a=(0,d.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l(!0),a.prev=1,a.next=4,m().get("/api/v1/employees/".concat(x,"/notes"),{params:{limit:5,page:u},headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 4:!0===(b=a.sent).data.isSuccess&&(r(b.data.result.length<5),v(u+1),D((0,h.Z)(C).concat((0,h.Z)(b.data.result)))),l(!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("[loadEmployeeNotes] - error -",a.t0),l(!1);case 13:case"end":return a.stop()}},a,null,[[1,9]])})),function(){return a.apply(this,arguments)}),G=function(a){y(a),f(!0)},H=function(){f(!1),D([]),v(0),r(!1),y(null),l(!1)};return(0,n.useEffect)(function(){null!==x&&E()},[x]),(0,n.useEffect)(function(){return A.eventManager.on("employees:notes:show",G),A.eventManager.on("employees:notes:hide",H),function(){A.eventManager.off("employees:notes:show",G),A.eventManager.off("employees:notes:hide",H)}},[]),(0,k.jsx)(F.Z,{position:"bottomRight",title:"Notes",visible:c,closeIcon:(0,k.jsx)(z.Z,{name:"arrowRight",size:22}),onClose:H,contentLoading:i,useClassicContainer:!0,children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[10px]",children:[(0,k.jsx)(N.z,{show:0===C.length,children:"No Note"}),C.map(function(a,b){return(0,k.jsx)(Q,{note:a},"employee-note-index-".concat(b))}),(0,k.jsx)(p.n,{show:!q&&!i&&0!==C.length,onClick:E})]})})},_=function(){var a,b=(0,n.useState)(!1),c=b[0],f=b[1],g=(0,n.useState)(!1),i=g[0],l=g[1],o=(0,n.useState)(0),q=o[0],r=o[1],s=(0,n.useState)(null),u=s[0],v=s[1],w=(0,n.useState)([]),x=w[0],y=w[1],C=(0,n.useState)(!1),D=C[0],E=C[1],G=(a=(0,d.Z)(j().mark(function a(b){var c,d;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l(!0),a.prev=1,c=!0===b?0:q,a.next=5,m().get("/api/v1/employees/".concat(u,"/reasons"),{params:{page:c,limit:5},headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 5:!0===(d=a.sent).data.isSuccess&&(E(d.data.result.length<5),r(c+1),y(!0===b?d.data.result:(0,h.Z)(x).concat((0,h.Z)(d.data.result)))),l(!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log("[loadEmployeeReasons] - error - ",a.t0),l(!1);case 14:case"end":return a.stop()}},a,null,[[1,10]])})),function(b){return a.apply(this,arguments)}),H=function(a){v(a),f(!0)},I=function(){f(!1),v(null),y([]),E(!1),r(0),l(!1)};return(0,n.useEffect)(function(){u&&G(!0)},[u]),(0,n.useEffect)(function(){return A.eventManager.on("employees:outOfWork:show",H),A.eventManager.on("employees:outOfWork:hide",I),function(){A.eventManager.off("employees:outOfWork:show",H),A.eventManager.off("employees:outOfWork:hide",I)}},[]),(0,k.jsx)(F.Z,{position:"bottomRight",title:"Out of Work",visible:c,closeIcon:(0,k.jsx)(z.Z,{name:"arrowRight",size:22}),onClose:I,useClassicContainer:!0,contentLoading:i,children:(0,k.jsxs)("div",{className:"flex flex-col space-y-[10px]",children:[(0,k.jsx)(N.z,{show:0===x.length,children:"No Reason"}),x.map(function(a,b){var c=B(a.name),d=(0,O.Y)(new Date(a.from)),e=(0,O.Y)(new Date(a.to)),f=d.isSameDate(e);return(0,k.jsxs)("div",{className:"rounded-main/2 bg-[#F7F8FA] flex flex-col p-[10px] space-y-[10px]",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("h6",{className:"text-[12px] text-[#777777] font-[400]",children:f?"".concat(d.toDate(),"y."):"".concat(d.toDate(),"y. - ").concat(e.toDate(),"y.")}),(0,k.jsx)("h4",{style:{color:c},className:"font-[400] text-[12px]",children:a.display_name})]}),(0,k.jsx)("p",{className:"font-[500] text-[16px]",children:a.description})]},"employee-reason-index-".concat(b))}),(0,k.jsx)(p.n,{show:!D||i,onClick:G})]})})},aa=function(){var a,b,c,i=(0,n.useState)(!1),l=i[0],x=i[1],y=(0,n.useState)(0),z=y[0],B=y[1],D=(0,n.useState)(!1),E=D[0],F=D[1],G=(0,n.useState)([]),I=G[0],J=G[1],L=(0,n.useState)({value:"all",label:"All"}),N=L[0],O=L[1],P=(0,n.useState)({value:"all",label:"All"}),Q=P[0],R=P[1],U=(a=(0,d.Z)(j().mark(function a(b,c,d){var i;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return!0===b&&(B(0),F(!1)),x(!0),a.prev=2,a.next=5,m().get("/api/v1/employees",{params:(0,g.Z)((0,f.Z)({page:!0===b?0:z},c&&{reason:c},d&&{job:d}),{limit:5}),headers:(0,e.Z)({},t.G.AddAccessTokenToHeader,!0)});case 5:if(i=a.sent,console.log("loadEmployees =>",i),!(!0===i.data.isSuccess&&i.data)){a.next=13;break}return J(!0===b?i.data.result:(0,h.Z)(I).concat((0,h.Z)(i.data.result))),F(i.data.result.length<5),B(z+1),x(!1),a.abrupt("return",!0);case 13:throw Error("faild to load employees");case 16:a.prev=16,a.t0=a.catch(2),console.log("[loadEmployees] - error -",a.t0),x(!1);case 20:case"end":return a.stop()}},a,null,[[2,16]])})),function(b,c,d){return a.apply(this,arguments)});return(0,n.useEffect)(function(){l||U()},[]),(0,k.jsxs)(q.Z,{className:"relative",children:[(0,k.jsx)(r.V2,{children:(0,k.jsxs)(r.dR,{children:[(0,k.jsx)(s.d,{onChange:(b=(0,d.Z)(j().mark(function a(b,c){var d,e;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.value!==N.value){a.next=2;break}return a.abrupt("return");case 2:return O(b),console.log("reasonSort =>",b),a.next=7,U(!0,null!==(d=b.value)&& void 0!==d?d:"all",null!==(e=Q.value)&& void 0!==e?e:"all");case 7:return a.abrupt("return",a.sent);case 8:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}),value:N,options:[{value:"all",label:"All"},].concat((0,h.Z)(w.map(function(a){return{value:a.name,label:a.display_name}})))}),(0,k.jsx)(s.d,{onChange:(c=(0,d.Z)(j().mark(function a(b,c){var d,e;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.value!==Q.value){a.next=2;break}return a.abrupt("return");case 2:return R(b),console.log("jobSort =>",b),a.next=7,U(!0,null!==(d=N.value)&& void 0!==d?d:"all",null!==(e=b.value)&& void 0!==e?e:"all");case 7:return a.abrupt("return",a.sent);case 8:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)}),value:Q,options:[{value:"all",label:"All"},].concat((0,h.Z)(v.map(function(a){return{value:a.name,label:a.display_name}})))}),(0,k.jsx)(r.ZX,{icon:"plus",onClick:function(){A.eventManager.emit("employees:add:show")},children:"New Employee"})]})}),l&&0===I.length&&(0,k.jsx)("div",{className:"flex absolute w-full h-full z-[10] flex-grow bg-[rgba(255,255,255,0.4)] items-center justify-center py-10",children:(0,k.jsx)(o.Z,{color:u.Colors.primary,width:"70px",loading:l})}),(0,k.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-8 px-7",children:I.map(function(a,b){return(0,k.jsx)(C,{employee:a},"employee-key-index-"+b)})}),(0,k.jsx)(p.n,{show:!E,loading:l,onClick:U}),(0,k.jsx)(K,{}),(0,k.jsx)(Z,{}),(0,k.jsx)(H,{}),(0,k.jsx)(S,{}),(0,k.jsx)(_,{}),(0,k.jsx)($,{}),(0,k.jsx)(T,{}),(0,k.jsx)(M,{})]})}}},function(a){a.O(0,[211,874,774,888,179],function(){var b;return a(a.s=5622)}),_N_E=a.O()}])